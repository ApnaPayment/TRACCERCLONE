package org.traccar.protocol;

import org.junit.Test;
import org.traccar.ProtocolTest;

public class RetranslatorFrameDecoderTest extends ProtocolTest {

    @Test
    public void testDecode() throws Exception {

        RetranslatorFrameDecoder decoder = new RetranslatorFrameDecoder();

        verifyFrame(
                binary("fb010000383634343935303334303031353236005c6e6e44000000050bbb0000001301036164665f7265675f74696d65005c6e6e480bbb0000000f000468646f7000000000000000e03f0bbb00000011000367736d5f73746174757300000000030bbb0000001200036163635f7472696767657200000000000bbb0000001100036465765f7374617475730000003a000bbb0000001200047077725f657874006de7fba9f11229400bbb0000001200047077725f696e74003f355eba498c10400bbb0000000f00046164633100f853e3a59b0422400bbb000000100004616463313100000000008098c1400bbb0000000f0004616463320000000000000000000bbb00000010000461646331320000000000000000000bbb0000000f0004616463330000000000000000000bbb00000010000461646331330000000000000000000bbb0000000f0004616463340000000000000000000bbb00000010000461646331340000000000000000000bbb0000000f0004616463390000000000000000000bbb00000010000461646331300000000000000000000bbb00000012010361766c5f6f757470757473003a0000000bbb000000270102706f73696e666f00ed116a86542156403657cd73440e4c400000000000006a400000000a0c0bbb0000000c000376616c696400000000000bbb0000000b0003736f667400000000e7"),
                decoder.decode(null, null, binary("fb010000383634343935303334303031353236005c6e6e44000000050bbb0000001301036164665f7265675f74696d65005c6e6e480bbb0000000f000468646f7000000000000000e03f0bbb00000011000367736d5f73746174757300000000030bbb0000001200036163635f7472696767657200000000000bbb0000001100036465765f7374617475730000003a000bbb0000001200047077725f657874006de7fba9f11229400bbb0000001200047077725f696e74003f355eba498c10400bbb0000000f00046164633100f853e3a59b0422400bbb000000100004616463313100000000008098c1400bbb0000000f0004616463320000000000000000000bbb00000010000461646331320000000000000000000bbb0000000f0004616463330000000000000000000bbb00000010000461646331330000000000000000000bbb0000000f0004616463340000000000000000000bbb00000010000461646331340000000000000000000bbb0000000f0004616463390000000000000000000bbb00000010000461646331300000000000000000000bbb00000012010361766c5f6f757470757473003a0000000bbb000000270102706f73696e666f00ed116a86542156403657cd73440e4c400000000000006a400000000a0c0bbb0000000c000376616c696400000000000bbb0000000b0003736f667400000000e7fb010000383634343935303334303031353236005c6e6e49000000050bbb0000001301036164665f7265675f74696d65005c6e6e4c0bbb0000000f000468646f7000000000000000e03f0bbb00000011000367736d5f73746174757300000000030bbb0000001200036163635f7472696767657200000000010bbb0000001100036465765f7374617475730000003a010bbb0000001200047077725f65787400931804560eed27400bbb0000001200047077725f696e7400c520b072689110400bbb0000000f000461646331004260e5d0221b20400bbb000000100004616463313100000000000075bf400bbb0000000f0004616463320000000000000000000bbb00000010000461646331320000000000000000000bbb0000000f0004616463330000000000000000000bbb00000010000461646331330000000000000000000bbb0000000f0004616463340000000000000000000bbb00000010000461646331340000000000000000000bbb0000000f0004616463390000000000000000000bbb00000010000461646331300000000000000000000bbb00000012010361766c5f6f757470757473003a0100000bbb000000270102706f73696e666f00ed116a86542156403657cd73440e4c400000000000006a400000000a0c0bbb0000000c000376616c696400000000000bbb0000000b0003736f667400000000e7fb01")));

        verifyFrame(
                binary("fb010000383634343935303334303031353236005c6e6e44000000050bbb0000001301036164665f7265675f74696d65005c6e6e480bbb0000000f000468646f7000000000000000e03f0bbb00000011000367736d5f73746174757300000000030bbb0000001200036163635f7472696767657200000000000bbb0000001100036465765f7374617475730000003a000bbb0000001200047077725f657874006de7fba9f11229400bbb0000001200047077725f696e74003f355eba498c10400bbb0000000f00046164633100f853e3a59b0422400bbb000000100004616463313100000000008098c1400bbb0000000f0004616463320000000000000000000bbb00000010000461646331320000000000000000000bbb0000000f0004616463330000000000000000000bbb00000010000461646331330000000000000000000bbb0000000f0004616463340000000000000000000bbb00000010000461646331340000000000000000000bbb0000000f0004616463390000000000000000000bbb00000010000461646331300000000000000000000bbb00000012010361766c5f6f757470757473003a0000000bbb000000270102706f73696e666f00ed116a86542156403657cd73440e4c400000000000006a400000000a0c0bbb0000000c000376616c696400000000000bbb0000000b0003736f667400000000e7"),
                decoder.decode(null, null, binary("fb010000383634343935303334303031353236005c6e6e44000000050bbb0000001301036164665f7265675f74696d65005c6e6e480bbb0000000f000468646f7000000000000000e03f0bbb00000011000367736d5f73746174757300000000030bbb0000001200036163635f7472696767657200000000000bbb0000001100036465765f7374617475730000003a000bbb0000001200047077725f657874006de7fba9f11229400bbb0000001200047077725f696e74003f355eba498c10400bbb0000000f00046164633100f853e3a59b0422400bbb000000100004616463313100000000008098c1400bbb0000000f0004616463320000000000000000000bbb00000010000461646331320000000000000000000bbb0000000f0004616463330000000000000000000bbb00000010000461646331330000000000000000000bbb0000000f0004616463340000000000000000000bbb00000010000461646331340000000000000000000bbb0000000f0004616463390000000000000000000bbb00000010000461646331300000000000000000000bbb00000012010361766c5f6f757470757473003a0000000bbb000000270102706f73696e666f00ed116a86542156403657cd73440e4c400000000000006a400000000a0c0bbb0000000c000376616c696400000000000bbb0000000b0003736f667400000000e7fb01")));

        verifyNull(decoder.decode(null, null, binary("fb01")));


    }

}
